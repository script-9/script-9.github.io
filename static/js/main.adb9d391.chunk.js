(this["webpackJsonpscript-9.github.io"]=this["webpackJsonpscript-9.github.io"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/breakout-lite.a4d778a2.gif"},,function(e,t,a){e.exports=a.p+"static/media/loshermanosbros-lite.c3b13663.gif"},,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlAAAAAoCAIAAAC+blOXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBQTRCNkU3RDBEOTExMUU5Qjk3MkFERTEyRkI4RjBCQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBQTRCNkU3RTBEOTExMUU5Qjk3MkFERTEyRkI4RjBCQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkFBNEI2RTdCMEQ5MTExRTlCOTcyQURFMTJGQjhGMEJBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkFBNEI2RTdDMEQ5MTExRTlCOTcyQURFMTJGQjhGMEJBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HvluxAAAAUhJREFUeNrs3TFOQkEQgGEwL7RIaAxHsJDiWXsZzsVJ6Kx5hRYcwdAQpDKhorGE4pFZ1sHvKzGZLFL82WKyw5/NahBh8rY4+/n+fWn+Hc8vLfv5a4n6v3VdFzJn87kPmbPdHUPmrL9izvNx+A6ZMx8/hsx5nU1C5jxNRyFznl9iztO2bcichwEA/AOCB4DgAYDgAYDgAYDgAYDgAUAJzaU/lN5bqjW/735S3zlR3yv7+UsrvXcIuOEBgOABgOABgOABgOABgOABgOABwK+Le3hR+161ZN8zy7JPVuu9Ovt2gBseAAgeAIIHAIIHAIIHAIIHAIIHADfS3Ov+U/Z34LK/S/fXfl8ANzwABA8ABA8ABA8ABA8ABA8ABA8ArtTU2lvK8t5e33Nmf4cvC/t2gBseAAgeAIIHAIIHAIIHAIIHAIIHADdyEmAARD5eRI/K+WsAAAAASUVORK5CYII="},function(e,t,a){e.exports=a.p+"static/media/brospipe-lite.82f3b93a.gif"},function(e,t,a){e.exports=a.p+"static/media/livecoding480.20d1866a.gif"},function(e,t,a){e.exports=a.p+"static/media/slider480.dc4d8c4b.gif"},function(e,t,a){e.exports=a.p+"static/media/pauserewind.741e69fa.gif"},function(e,t,a){e.exports=a.p+"static/media/toggle.4ab6d6b6.gif"},function(e,t,a){e.exports=a.p+"static/media/spritedemo.76159464.gif"},function(e,t,a){e.exports=a.p+"static/media/mapdemo.23680514.gif"},function(e,t,a){e.exports=a.p+"static/media/musicdemo.c1b0f3bd.gif"},,function(e){e.exports=JSON.parse('{"a":"1.0.10"}')},function(e){e.exports=JSON.parse('{"a":"21:26 02/09/20"}')},function(e,t,a){e.exports=a(40)},,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a(4),o=a(3),i=a(1),l=a.n(i),u=a(2),m=a(6),p=a(5),h=function(e){return r.a.createElement(o.a,Object.assign({},e,{getProps:function(e){var t=e.location,a=e.href;return[t.origin,t.pathname,t.search].join("").endsWith(a)?{className:"active"}:null}}))},d=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://script-8-api-v3.now.sh","/api/oauth-comments"),{method:"POST",body:JSON.stringify({code:t})});case 3:if(200!==(a=e.sent).status){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw new Error("".concat(a.status,": ").concat(a.statusText));case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return{public:!0,description:"SCRIPT-9",files:{"code.json":{content:e.contents.code}}}},g=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/img/favicon.co");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error(t.statusText);case 6:return e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.github.com/gists/".concat(t),e.next=3,fetch(a);case 3:if(200!==(n=e.sent).status){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:throw new Error("".concat(n.status,": ").concat(n.statusText));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,c,s,o,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cassette,n=t.token,r=f(a),c={headers:{Authorization:"token ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(r)},s=a.gist?a.gist.id:a.gistId,o="https://api.github.com/gists/".concat(s),c.method="PATCH",e.next=8,fetch(o,c);case 8:if(200!==(i=e.sent).status){e.next=16;break}return e.next=12,i.json();case 12:return u=e.sent,e.abrupt("return",u);case 16:throw new Error("".concat(i.status,": ").concat(i.statusText));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,c,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cassette,n=t.token,r=f(a),c={headers:{Authorization:"token ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(r)},"https://api.github.com/gists",c.method="POST",e.next=7,fetch("https://api.github.com/gists",c);case 7:if(201!==(s=e.sent).status){e.next=15;break}return e.next=11,s.json();case 11:return o=e.sent,e.abrupt("return",o);case 15:throw new Error("".concat(s.status,": ").concat(s.statusText));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={fetchGist:b,saveGist:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.cassette,n=t.token,!a.gist&&!a.gistId){e.next=7;break}return e.next=4,E({cassette:a,token:n});case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,v({cassette:a,token:n});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchFavicon:g,fetchGithubAppAccessToken:d},A=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.abrupt("return",!1);case 4:if(!t.idbId){e.next=12;break}return e.next=7,p.b(t.idbId);case 7:return a=e.sent,n=t.contents.code!==a.contents.code,e.abrupt("return",n);case 12:if(!t.gist){e.next=17;break}return r=t.contents&&t.contents.code!==t.gist.files["code.json"].content,e.abrupt("return",r);case 17:return e.abrupt("return",!!t.contents.code);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){e.token;var t=e.path,a=e.location,c=e.cassette,i=e.setCassette,l=(e.version,Object(n.useState)(!1)),u=Object(s.a)(l,2),p=u[0],d=u[1];Object(n.useEffect)((function(){var e=a.search,t=new window.URLSearchParams(e).get("id");c&&c.gist||!t||w.fetchGist(t).then((function(e){i((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(m.a)({},t,{gist:e,contents:Object(m.a)({},t?t.contents:{},{code:e.files["code.json"].content})})}))})).catch((function(e){console.log({error:e})}))}),[c,i,a]),Object(n.useEffect)((function(){c&&c.gist?Object(o.c)("".concat(t,"?id=").concat(c.gist.id)):Object(o.c)("".concat(t))}),[c,t]),Object(n.useEffect)((function(){A(c).then(d)}),[c]);var f=!c||!(c.contents&&c.contents.code);!f&&p||!f&&c.idbId;return r.a.createElement("nav",null,r.a.createElement("div",{className:"pages"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h,{to:c&&c.gist?"/?id=".concat(c.gist.id):"/"},"SCRIPT-8")))))},k=a(15),y=a.n(k),x=a(10),j=a.n(x),O=a(8),R=a.n(O),N=a(16),S=a.n(N),T=a(17),C=a.n(T),B=a(18),G=a.n(B),J=a(19),P=a.n(J),U=a(20),Z=a.n(U),W=a(21),L=a.n(W),D=a(22),F=a.n(D),M=a(23),Y=a.n(M),H=function(e){var t=e.version,a=e.timestamp;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,e),r.a.createElement("div",{className:"Home"},r.a.createElement("h1",null,"SCRIPT-8"),r.a.createElement("div",{className:"logo-and-timestamp"},r.a.createElement("img",{src:y.a,alt:"SCRIPT-8 logo"}),r.a.createElement("span",null,"updated ",a),r.a.createElement("span",null,"v",t)),r.a.createElement("p",null,"(NOTICE: You're looking at the beta version. This is where I test new features. Go to ",r.a.createElement("a",{href:"https://script-8.github.io"},"SCRIPT-8")," for the full experience.)"),r.a.createElement("p",null,"SCRIPT-8 is a fantasy computer for making, sharing, and playing tiny retro-looking games (called cassettes). It's free, browser-based, and"," ",r.a.createElement("a",{href:"https://github.com/script-8/script-8.github.io"},"open-source"),". Cassettes are written in JavaScript."),r.a.createElement("p",{class:"thumbnails"},r.a.createElement("img",{src:j.a,alt:"Los hermanos bros"}),r.a.createElement("img",{src:R.a,alt:"break-8 game"}),r.a.createElement("img",{src:S.a,alt:"the plumber"}),r.a.createElement("img",{src:R.a,alt:"break-8 game"}),r.a.createElement("img",{src:j.a,alt:"Los hermanos bros"}),r.a.createElement("img",{src:R.a,alt:"break-8 game"})),r.a.createElement("p",null,'SCRIPT-8 is designed to encourage play \u2014 the kind of wonder-filled play children experience as they explore and learn about the world. In order to support this goal, everything in SCRIPT-8 has immediate feedback. It is what some call a "livecoding" environment.'),r.a.createElement("p",null,"It features:"),r.a.createElement("p",{className:"feature"},r.a.createElement("span",null,"a code editor where the game changes as you type."),r.a.createElement("img",{src:C.a,alt:"livecoding"})),r.a.createElement("p",{className:"feature"},r.a.createElement("span",null,"a slider to help you tweak numbers without typing."),r.a.createElement("img",{src:G.a,alt:"slider"})),r.a.createElement("p",{className:"feature"},r.a.createElement("span",null,"a time-traveling tool so you can pause and rewind."),r.a.createElement("img",{src:P.a,alt:"pause and rewind"})),r.a.createElement("p",{className:"feature"},r.a.createElement("span",null,"buttons that show a character's past and future paths."),r.a.createElement("img",{src:Z.a,alt:"toggle"})),r.a.createElement("p",{className:"feature"},r.a.createElement("span",null,"a sprite editor where the game instantly displays your edits."),r.a.createElement("img",{src:L.a,alt:"sprite demo"})),r.a.createElement("p",{className:"feature"},r.a.createElement("span",null,"a map editor where changes alter the game's behavior, in real-time."),r.a.createElement("img",{src:F.a,alt:"map demo"})),r.a.createElement("p",{className:"feature"},r.a.createElement("span",null,"a music editor where you create phrases, group them into chains, and turn those into songs."),r.a.createElement("img",{src:Y.a,alt:"music demo"})),r.a.createElement("p",null,"Each cassette is recorded to a URL you can share with anyone."),r.a.createElement("p",null,"Play cassettes with a keyboard or gamepad."),r.a.createElement("p",null,"You can inspect any cassette's contents (even if it's not yours), change the code, art, or music, and record it to a different cassette \u2014 a new version."),r.a.createElement("p",null,"SCRIPT-8 is heavily influenced by Bret Victor's ideas (specifically"," ",r.a.createElement("a",{href:"http://vimeo.com/36579366"},"Inventing on principle")," and"," ",r.a.createElement("a",{className:"text",href:"http://worrydream.com/LearnableProgramming/"},"Learnable programming"),") and Joseph White's"," ",r.a.createElement("a",{href:"https://www.lexaloffle.com/pico-8.php"},"PICO-8"),", the best of all fantasy consoles."),r.a.createElement("p",null,"SCRIPT-8 is written by Gabriel Florit (that's me!) and"," ",r.a.createElement("a",{className:"text",href:"https://github.com/script-8/script-8.github.io/graphs/contributors"},"dedicated contributors"),". Click"," ",r.a.createElement("a",{href:"https://twitter.com/gabrielflorit"},"https://twitter.com/gabrielflorit")," ","to follow me on twitter. And visit the Github repository,"," ",r.a.createElement("a",{className:"text",href:"https://github.com/script-8/script-8.github.io"},"https://github.com/script-8/script-8.github.io"),", where you can keep up with new features and the occasional bug fix."),r.a.createElement("p",null,"If you have any questions, come join us on the"," ",r.a.createElement("a",{href:"https://discord.gg/HA68FNX"},"Fantasy Consoles Discord server"),", a friendly place to chat about these sophisticated, cutting-edge computers. The server has a dedicated SCRIPT-8 room."),r.a.createElement("p",null,"SCRIPT-8 nyx8 palette by"," ",r.a.createElement("a",{href:"https://twitter.com/Xavier_Gd"},"Javier Guerrero"),". Sprites in"," ",r.a.createElement("a",{className:"text",href:"https://script-8.github.io/?id=cd8d6811adb3afb472aaf7505729cf01"},"Los Hermanos Bros.")," ","by ",r.a.createElement("a",{href:"https://twitter.com/johanvinet"},"Johan Vinet"),".")))},z=function(e){var t=e.cassette,a=e.setCassette;return r.a.createElement("div",{className:"Editor"},r.a.createElement("h1",null,"Editor"),r.a.createElement("textarea",{value:t&&t.contents&&t.contents.code||"",onChange:function(e){e.persist(),a((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(m.a)({},t,{contents:{code:e.target.value}})}))}}))},X=function(e){var t=e.cassette;return r.a.createElement("div",{className:"Output"},r.a.createElement("h1",null,"Output"),r.a.createElement("pre",null,t&&t.contents&&t.contents.code||null))},V=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,e),r.a.createElement("div",{className:"Code"},r.a.createElement("h1",null,"Code"),r.a.createElement(z,e),r.a.createElement(X,e)))},Q=a(24),K=a.n(Q),q=[["second",1],["minute",60],["hour",3600],["day",86400],["week",604800],["month",2592e3],["year",31536e3]],_=function(e){for(var t=e.now,a=e.before,n=Math.round((t-a)/1e3),r=0;r<q.length;r++)if(n<q[r][1])return 0===r?"Just now":(n=Math.round(n/q[r-1][1]))+" "+q[r-1][0]+(1===n?" ago":"s ago")},$=function(e){var t=e.cassette,a=e.setCassette,c=Object(n.useState)([]),i=Object(s.a)(c,2),m=i[0],h=i[1];Object(n.useEffect)((function(){p.c().then((function(e){return Promise.all(e.map((function(e){return p.b(e)})))})).then(h)}),[]);var d=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.b(t);case 2:return n=e.sent,e.next=5,Object(o.c)("/code");case 5:a(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=Date.now();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Offline cassettes"),r.a.createElement("ul",{className:"OfflineCassettes"},K()(m).sortBy(["idbUpdatedAt"]).reverse().map((function(e,a){return r.a.createElement("li",{key:a},r.a.createElement("div",null,r.a.createElement("span",{className:"time-ago"},_({now:f,before:e.idbUpdatedAt})),r.a.createElement("button",{disabled:t&&e.idbId===t.idbId,onClick:function(){return d(e.idbId)}},"Load"),r.a.createElement("span",null,e.contents.code)))})).value()))},ee=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,e),r.a.createElement("div",{className:"Shelf"},r.a.createElement("h1",null,"Shelf"),r.a.createElement($,e)))},te=function(e){var t=e.location,a=e.setCommentsToken;return Object(n.useEffect)((function(){var e=t.search,n=new window.URLSearchParams(e).get("code");n&&w.fetchGithubAppAccessToken(n).then((function(e){a(e.access_token),Object(o.c)("/")})).catch((function(e){console.log({error:e})}))}),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Oauth"},r.a.createElement("h1",null,"Oauth")))},ae=function(e){var t="".concat("script-9").concat(e),a=Object(n.useState)(localStorage.getItem(t)||""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){localStorage.setItem(t,c)}),[c,t]),[c,o]},ne=a(25),re=a(26),ce=(a(39),function(){var e=ae("comments-token"),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(null),l=Object(s.a)(i,2),u=l[0],m=l[1],p={timestamp:re.a,version:ne.a,token:null,cassette:u,setCassette:m,commentsToken:a,setCommentsToken:c};return r.a.createElement("div",{className:"App"},r.a.createElement(o.b,null,r.a.createElement(H,Object.assign({path:"/"},p)),r.a.createElement(V,Object.assign({path:"/code"},p)),r.a.createElement(te,Object.assign({path:"/oauth-comments"},p)),r.a.createElement(ee,Object.assign({path:"/shelf"},p))))}),se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ie=document.getElementById("root");ie.hasChildNodes()?Object(c.hydrate)(r.a.createElement(ce,null),ie):Object(c.render)(r.a.createElement(ce,null),ie),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");se?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):oe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):oe(t,e)}))}}()}],[[27,1,2]]]);
//# sourceMappingURL=main.adb9d391.chunk.js.map